add file key .json: service account -> create service acount -> add key
go to IAM and adding grant access with service_acount above, role: Compute Admin
conda create -n ansible python==3.9 -y
pip install -r requirements.txt

Create GCE with Ansible
gcloud auth application-default login
gcloud config set project jenkins1-433523
enable Compute Engine API

ansible-playbook playbooks/create_compute_instance.yaml
update ssh key in inventory

cat ~/.ssh/id_rsa.pub
update ssh keys in metadata of compute engine

ansible-playbook -i inventory playbooks/deploy_jenkins.yaml


Collect certificate K8s: kubectl config view --raw

echo "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVMRENDQXBTZ0F3SUJBZ0lRUWFHYWRXWU5naTFjUzdDUDlRWVV3REFOQmdrcWhraUc5dzBCQVFzRkFEQXYKTVMwd0t3WURWUVFERXlSa09XVTBNakppTlMxak9XSXdMVFJqWmpBdE9UWTRaQzFtTURneFkyUTNPVGc1WW1ZdwpJQmNOTWpRd09ESXpNVFEwTXpVNVdoZ1BNakExTkRBNE1UWXhOVFF6TlRsYU1DOHhMVEFyQmdOVkJBTVRKR1E1ClpUUXlNbUkxTFdNNVlqQXROR05tTUMwNU5qaGtMV1l3T0RGalpEYzVPRGxpWmpDQ0FhSXdEUVlKS29aSWh2Y04KQVFFQkJRQURnZ0dQQURDQ0FZb0NnZ0dCQUxDOFpQMG5tVkcvSzZQOWphR3dXQlBWUE1DT3YxM2QrK0EycnJaZgo0dDhWakV6Y2hldlNvQjhIQWZmcStZdnphSGx0YWpDT3EzRHNnRUxiRGhhR0V1QjRHaS80UDB3WGpBWXNUZ1FLCk56SFRjOG5LalZSTlBMeTdDR0kwa0Iwa1dtVW04ZXdLV1FpYkdueFRpbGhOeXZycDlnYVJGSDUrb1ZOKzlyZEIKek5CSi9OZVI2WG9OcDF5UTlaUFEvS0dDeW1WSXpnUGNremFKRFpIUjgybWc0UEFRdnlETm1QQWpWQ3JNSDUxNQpUU2Y0ZkhveFY5ak1ZYWE3K0tTeEo1Z3QzMUcwZmw0TEgySDNlUitFRXBLV1FFK0pOVXZESEpNYytrOWtuWXd0CmVYei9sZnM3MlMyZWdmSVFMcnMrNUdWcjBmVlMwZVNLRTJSM1dPQlRBQ0xZWHdNVEdUMXJOcnlDZlMwZExuVnQKclMyKy9jb2JoZHd1QUlJTGNmZWt2dDQvdHZUVWNlSjFlUlQwV0lyaXlKalhaR3U0NHNRMnMybWg0aG9tUW4yNgo0U0xQcFNFNVg3c0dYay9CSEJ1elhaVzRvcXlkZStxSVNPaEFucGF4K3NoMzcybzEzNXdPQ2xha3RPV25IRXBUCm4ySS91SnZxd21qNDB4clJ2UktsTUZlU213SURBUUFCbzBJd1FEQU9CZ05WSFE4QkFmOEVCQU1DQWdRd0R3WUQKVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVVYMlVIeUtoVWxWYTcwNEZPMmRtMklQSUVBcFl3RFFZSgpLb1pJaHZjTkFRRUxCUUFEZ2dHQkFGV0Jqekl0TkxMLzdwMXNPU2NRTjJ4bjhzMnVydUoyWUhPbDh4ZDFlN2xiCnl5c1pXQnBmVDZUZmdOOWpWazE2ZHN0d3g5aUJYL0tSMjVteHIrSktVOXlzOUFHK2JMRHhsZXlSSTBDdUQzMFIKK1hpNDE1MEViWDVnTnk3MTVDL1E0NFkwODdQN2JFMWZhSEVKNGpzOExURTl0WDNWTmFMbENQcFFhR3ppWGlHUgpWOGRNQmx5dkwxZTFFSm9OQUprUHdxR0hxdlhQTmpiSFZRVWVLYWFkZkdPVkN4cDI4WWVnOFpRenIyMWVHNVFmCjh6R3UrKzFGSkFVMjlzdGpRSlFPZDVtK1VaVTEwYnhjSXNYZkwzdFNlYi96NUduUU93eUt3MjNYUnBKaWJTSUoKa1c3bkJqUHpNOENKTnJod21VTXlDMTc1QlhBT2kzS0Q5dmg4dmVuQ1dReEk1My8xRlI4NklCWkpwT1hJQ0x1TQpsS0xWajlGbFpKeXIzaTR0RjFpV29KbGhJczd0T1lDeGg1NVM0NitLbHRvVzVmVXBSemlzNHdHblJia21RMDRaCkV3ZG5vVHM4dTR0VFJyeGgrTUJwM3FWUGx6QXVsK3hQTkpxRjdFS1cwc2pGK0dCblpUV1F4SEFzUXdYNW94WmoKMUtqNlZKMFZLTmsxNzlpZlVsTlFxdz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K" | base64 --decode

kubectl create clusterrolebinding rag-controller-admin-binding \
  --clusterrole=admin \
  --serviceaccount=rag-controller:default \
  --namespace=rag-controller

kubectl create clusterrolebinding anonymous-admin-binding \
  --clusterrole=admin \
  --user=system:anonymous \
  --namespace=rag-controller